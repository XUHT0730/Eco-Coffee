import{S as m}from"./sweetalert2.all-qACaC20D.js";import{_ as x,r as h,o,c as i,a as d,b as t,F as g,j as b,e as f,q as v,t as a,f as u}from"./index-DWtJNFht.js";var k={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hedy-api-path",BASE_URL:"/Eco-Coffee/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:y,VITE_PATH:L}=k,T={data(){return{isLoading:!1,products:[],trackList:[]}},computed:{filterProducts(){return this.products.filter(s=>this.trackList.includes(s.id))}},methods:{getProducts(){this.isLoading=!0;const s=`${y}/api/${L}/products/all`;this.axios.get(s).then(c=>{this.products=c.data.products,this.isLoading=!1}).catch(c=>{this.isLoading=!1,alert(c.response.data.message)})},getTrack(){const s=localStorage.getItem("homeTrack");s&&(this.trackList=JSON.parse(s))},setTrack(s){if(this.trackList.includes(s)){const c=this.trackList.findIndex(l=>l===s);this.trackList.splice(c,1)}else this.trackList.push(s);m.fire({icon:"success",title:"己移除收藏清單",showConfirmButton:!1,timer:1500}),localStorage.setItem("homeTrack",JSON.stringify(this.trackList)),this.getTrack()}},mounted(){this.getProducts(),this.getTrack()}},w={class:"position-relative box-bg05 mb-7"},S={key:0,class:"OBJECTS05"},E={class:"container"},C={class:"row"},V=v('<div class="col-12 text-dark mt-xl-7 mt-lg-7 mt-md-7" data-aos="fade-down"><div class="fw-bold title mt-5 mb-2 d-none d-md-block d-lg-block d-xl-block"> 追蹤商品 </div><div class="fw-bold title mt-7 mb-2 d-block d-md-none d-xl-none d-lg-none"> 商品收藏 <div class="text-info fw-normal fs-5 d-md-none"> 保存自己感興趣商品 </div></div><span class="text-info fs-4">Course Collection</span></div>',1),P={class:"row g-5 pb-5 pb-md-4 pb-lg-4 pb-xl-7 mx-auto justify-content-center","data-aos":"fade-up"},B={class:"card02 shadow bg-white"},I=["src"],O={class:"card-body position-relative"},R={class:"bg-secondary fs-6 px-4 py-1 text-white position-absolute category"},$={class:"card-title pt-5 px-5"},N=["onClick"],U={key:0},D=t("i",{class:"bi bi-heart-fill fs-4 text-danger"},null,-1),j=[D],A={key:1},F=t("i",{class:"bi bi-heart fs-4 text-danger"},null,-1),J=[F],z={key:0,class:"fs-5 card-text text-info px-5 pt-2"},H={key:1,class:"mt-3 d-flex c_font"},q={class:"ms-5 card-text text-info pt-2"},M={class:"card-text text-dark ms-3 ms-xl-5 ms-lg-5 ms-md-9 pt-2"},G={class:"pb-7 pb-md-5 pb-lg-5 pb-xl-5 pt-2 pt-md-6 d-flex"},K={class:"classBtn04 position-absolute"},Q=t("i",{class:"bi bi-arrow-right"},null,-1),W={key:1,class:"text-center mb-7 mb-md-9 pt-7 pt-md-9"},X=t("h2",{class:"text-info"},"沒有追蹤商品，快去逛逛",-1),Y=t("p",{class:"display-3 text-info my-4 mb-md-6"},"前往商品列表",-1);function Z(s,c,l,tt,n,r){const _=h("LoadingOverLay"),p=h("RouterLink");return o(),i("section",w,[d(_,{active:n.isLoading,"z-index":1060,class:"text-center"},null,8,["active"]),r.filterProducts.length>0?(o(),i("div",S,[t("div",E,[t("div",C,[V,d(_,{active:n.isLoading,"z-index":1060,class:"text-center"},null,8,["active"]),t("div",P,[(o(!0),i(g,null,b(r.filterProducts,e=>(o(),i("div",{key:e.id,class:"col-12 col-xl-4 col-lg-5 mx-2 mx-xl-0 mx-lg-0 mx-md-0"},[t("div",B,[t("img",{src:e.imageUrl,class:"w-70 object-fit-cover",height:"325"},null,8,I),t("div",O,[t("div",R,a(e.category),1),t("h5",$,a(e.title),1),t("div",{class:"card_Favorite position-absolute",onClick:st=>r.setTrack(e.id)},[n.trackList.includes(e.id)?(o(),i("span",U,j)):(o(),i("span",A,J))],8,N),e.price===e.origin_price?(o(),i("div",z,a(s.$filters.currency(e.price))+" 元 ",1)):(o(),i("div",H,[t("del",q," 原價 $"+a(s.$filters.currency(e.origin_price))+" 元",1),t("p",M," 特價 $"+a(s.$filters.currency(e.price))+" 元 ",1)])),t("div",G,[t("div",K,[d(p,{to:`/product/${e.id}`,type:"button",class:"btn btn-primary pe-4 py-2 w-100"},{default:f(()=>[u(" 商品介紹 "),Q]),_:2},1032,["to"])])])])])]))),128))])])])])):(o(),i("div",W,[X,Y,d(p,{to:"/products",class:"fs-5 btn btn-primary py-3 px-5"},{default:f(()=>[u(" 查看商品 ")]),_:1})]))])}const it=x(T,[["render",Z]]);export{it as default};
