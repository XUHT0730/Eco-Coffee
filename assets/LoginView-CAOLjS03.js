import{_ as f,m as _,r as d,o as h,c as g,a as l,b as s,w as v,d as c,v as m}from"./index-63o2KDvu.js";import{t as w}from"./toastMessage-D24-VtmM.js";import{T as L}from"./ToastModal-CdvlDvmn.js";var b={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hedy-api-path",BASE_URL:"/undefined/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:x}=b,y={data(){return{isLoading:!1,user:{username:"",password:""}}},methods:{..._(w,["pushMessage"]),logIn(){const a=`${x}/admin/signin`;this.isLoading=!0,this.axios.post(a,this.user).then(e=>{const{token:n,expired:i}=e.data;document.cookie=`myToken=${n}; expires=${new Date(i)}; path=/`,this.isLoading=!1,this.$router.push("/admin/products")}).catch(e=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"登入失敗",content:e.response.data.message})})}},components:{ToastModal:L}},T={class:"container mt-5"},M={class:"row justify-content-center"},V=s("h1",{class:"h3 mb-3 font-weight-normal"}," 請先登入 ",-1),E={class:"form-floating mb-3"},I=s("label",{for:"username"},"Email address",-1),U={class:"form-floating"},k=s("label",{for:"password"},"Password",-1),D=s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1);function R(a,e,n,i,o,r){const p=d("LoadingOverLay"),u=d("ToastModal");return h(),g("div",T,[l(p,{active:o.isLoading,"z-index":1060},null,8,["active"]),l(u),s("div",M,[V,s("div",null,[s("form",{id:"form",class:"form-signin",onSubmit:e[2]||(e[2]=v((...t)=>r.logIn&&r.logIn(...t),["prevent"]))},[s("div",E,[c(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=t=>o.user.username=t),required:"",autofocus:""},null,512),[[m,o.user.username]]),I]),s("div",U,[c(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=t=>o.user.password=t),required:""},null,512),[[m,o.user.password]]),k]),D],32)])])])}const S=f(y,[["render",R]]);export{S as default};
