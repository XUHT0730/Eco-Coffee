import{K as d,L as r}from"./index-DeCydIJq.js";import{S as e}from"./sweetalert2.all-BF7AL5qx.js";var l={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hedy-api-path",BASE_URL:"/Eco-Coffee/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:i,VITE_PATH:s}=l,p=d("cartStore",{state:()=>({carts:[],cart:{},final_total:0,total:0}),actions:{getCart(){const a=`${i}/api/${s}/cart`;r.get(a).then(t=>{this.cart=t.data.data,this.carts=t.data.data.carts,this.final_total=t.data.data.final_total,this.total=t.data.data.total}).catch(()=>{})},addToCart(a,t=1){const c={product_id:a,qty:t};if(this.carts.some(o=>o.product_id===a)){e.fire({title:"商品已存在於購物車中",icon:"warning"});return}const n=`${i}/api/${s}/cart`;r.post(n,{data:c}).then(o=>{e.fire({icon:"success",title:o.data.message,showConfirmButton:!1,timer:1500}),this.getCart()}).catch(()=>{})}}});export{p as c};
