import{p as w,m as f,_ as u,r as o,o as h,c as b,b as s,a as e,e as a,f as _,t as V,n as y,q as L,F as E}from"./index-6rp3XoH_.js";import{C}from"./collapse-DrRidu5Y.js";import{t as $}from"./toastMessage-B_5MRa3P.js";import{c as g}from"./cartStore-BIMpQI-w.js";import{T as R}from"./ToastModal-BZ4ZRW1R.js";import"./selector-engine-DBxsLt2E.js";import"./sweetalert2.all-ltd6ySQL.js";const T={computed:{...w(g,["carts"])},methods:{...f($,["pushMessage"]),...f(g,["getCart"]),openCollapse(){this.collapse.show()}},mounted(){this.getCart(),this.collapse=new C(this.$refs.collapse,{toggle:!1})}},F={class:"navbar navbar-expand-lg navbar-dark bg-primary sticky-top py-2"},M={class:"container-fluid"},N=s("i",{class:"bi bi-cup-hot ff-minor"},null,-1),S=s("span",{class:"ms-2 fw-bold ff-minor"},"Eco-Coffee",-1),I=s("span",{class:"navbar-toggler-icon ff-minor"},null,-1),U=[I],A={id:"lokiNavbar",ref:"collapse",class:"collapse navbar-collapse"},B={class:"navbar-nav me-auto mb-2 mb-lg-0"},D={class:"nav navbar-nav d-flex me-2"},O=s("i",{class:"bi bi-heart-fill icon"},null,-1),P=s("i",{class:"bi bi-cart icon ff-minor"},null,-1),q={class:"badge rounded-pill bg-danger ff-minor"},H=s("span",{class:"visually-hidden"},"unread messages",-1),z=s("i",{class:"bi bi-person-circle icon"},null,-1);function j(d,l,n,v,m,c){const t=o("RouterLink"),r=o("router-link");return h(),b("nav",F,[s("div",M,[e(t,{to:"/",class:"fs-4 navbar-brand align-items-center me-2"},{default:a(()=>[N,S]),_:1}),s("button",{class:"navbar-toggler","data-bs-toggle":"collapse",onClick:l[0]||(l[0]=(...i)=>c.openCollapse&&c.openCollapse(...i)),"data-bs-target":"#lokiNavbar"},U),s("div",A,[s("div",B,[e(t,{to:"/about",class:"nav-item nav-link"},{default:a(()=>[_("了解公平貿易")]),_:1}),e(t,{to:"/products",class:"nav-item nav-link"},{default:a(()=>[_("產品列表")]),_:1}),e(t,{to:"/articles",class:"nav-item nav-link"},{default:a(()=>[_("部落格")]),_:1})]),s("div",D,[e(t,{to:"/track",class:"nav-link nav-item me-2"},{default:a(()=>[O]),_:1}),e(t,{to:"/cart",class:"btn btn-outline-primary nav-item nav-link position-relative d-flex align-items-center me-2"},{default:a(()=>{var i;return[P,s("span",q,[_(V((i=this.carts)==null?void 0:i.length)+" ",1),H])]}),_:1}),e(r,{to:"/login",class:"nav-item nav-link me-2"},{default:a(()=>[z]),_:1})])],512)])])}const G=u(T,[["render",j]]);var J={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hedy-api-path",BASE_URL:"/Eco-Coffee/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:K,VITE_PATH:Q}=J,W={data(){return{form:{user:{address:""},message:""}}},methods:{createOrder(){if(this.cart.carts&&this.cart.carts.length===0)return;this.isLoading=!0;const d=`${K}/api/${Q}/order`,l=this.form;this.axios.post(d,{data:l}).then(n=>{this.$router.push(`/checkout/${n.data.orderId}`),this.$refs.form.resetForm(),this.isLoading=!1}).catch(n=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"建立訂單",content:n.response.data.message})})}}},X={class:"border-2 bg-primary border-top mt-5 footer"},Y={class:"container text-white text-center"},Z={class:"row d-lg-none d-md-none"},ss=s("i",{class:"bi bi-cup-hot"},null,-1),es=s("span",{class:"ms-2 fw-bold text-white ff-minor"},"Eco-Coffee",-1),ts=s("p",{class:"mb-0 text-center"},[s("small",null,"無商業用途，僅供學習使用")],-1),os={class:"footer__wrapper d-none d-sm-block"},as={class:"row"},ls={class:"col-md-4 mb-3"},is={class:"footer-block"},ns=s("p",{class:"h4 fw-bold mb-3"},"首次下單可享 15% 優惠",-1),cs=s("p",null,"訂閱獲取優惠卷 & 最新商品",-1),rs={class:"mb-3"},ds=s("label",{for:"email",class:"form-label"},"Email",-1),ms=L('<div class="col-md-4 mb-3"><div class="footer-block-center"><p class="h4 fw-bold mb-4">相關連結</p><ul class="footerul ps-6"><li class="mb-3"><a class="text-white" href="#">主頁</a></li><li class="mb-3"><a class="text-white" href="#">常見問題</a></li></ul><ul class="footerul"><li class="mb-3"><a class="text-white" href="#">最新消息</a></li><li class="mb-3"><a class="text-white" href="#">聯絡我們</a></li></ul></div></div><div class="col-md-4 mb-3"><div class="footer-block-center"><p class="h4 fw-bold mb-4">聯絡我們</p><div class="row"><div class="col-4 text-end"><i class="bi bi-instagram footer-icon"></i></div><div class="col-4"><i class="bi bi-facebook footer-icon"></i></div><div class="col-4 text-start"><i class="bi bi-envelope-heart footer-icon"></i></div></div></div></div>',2),_s=s("p",{class:"mb-0 text-center"},[s("small",null,"無商業用途，僅供學習使用")],-1);function ps(d,l,n,v,m,c){const t=o("RouterLink"),r=o("VeeField"),i=o("ErrorMessage"),p=o("VeeForm");return h(),b("footer",X,[s("div",Y,[s("div",Z,[e(t,{to:"/",class:"fs-2 navbar-brand py-4"},{default:a(()=>[ss,es]),_:1}),ts]),s("div",os,[s("div",as,[s("div",ls,[s("div",is,[ns,cs,e(p,{ref:"form",onSubmit:c.createOrder},{default:a(({errors:k})=>[s("div",rs,[ds,e(r,{id:"email",name:"email",type:"email",class:y(["form-control w-70",{"is-invalid":k.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:m.form.user.email,"onUpdate:modelValue":l[0]||(l[0]=x=>m.form.user.email=x)},null,8,["class","modelValue"]),e(i,{name:"email",class:"invalid-feedback"})])]),_:1},8,["onSubmit"])])]),ms]),_s])])])}const fs=u(W,[["render",ps]]),us={data(){return{}},methods:{...f($,["pushMessage"])},components:{NavbarLayout:G,FooterLayout:fs,ToastModal:R}};function hs(d,l,n,v,m,c){const t=o("NavbarLayout"),r=o("ToastModal"),i=o("RouterView"),p=o("FooterLayout");return h(),b(E,null,[e(t),e(r),e(i),e(p)],64)}const Vs=u(us,[["render",hs]]);export{Vs as default};
